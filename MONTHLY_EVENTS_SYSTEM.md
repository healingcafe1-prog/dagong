# 📅 월별 행사 및 할인 이벤트 시스템

## 🎯 시스템 개요

다공 플랫폼에 **12개월 연중 이벤트 시스템**을 추가했습니다.  
총 **28개의 월별 행사 및 할인 이벤트**가 자동으로 관리됩니다.

---

## 📊 이벤트 구조

### **새로운 컬럼 추가**
- `month`: 이벤트 해당 월 (1-12, 0=전체)
- `is_recurring`: 매년 반복 여부 (0=일회성, 1=매년반복)
- `priority`: 표시 우선순위 (높을수록 우선 표시)

### **이벤트 타입**
1. **discount**: 할인 이벤트 (예: 신년 대할인, 연말 감사세일)
2. **season**: 시즌/계절 이벤트 (예: 봄 햇차, 여름 냉차)
3. **holiday**: 명절/기념일 이벤트 (예: 설날, 추석, 어버이날)
4. **special**: 특별 행사 (예: 차여행, 체험 프로그램)
5. **new_product**: 신상품 출시
6. **festival**: 축제/페스티벌

---

## 🗓️ 월별 이벤트 목록

### **1월** (2개)
- 🎊 신년 맞이 대할인 (20% 할인)
- 🧧 설날 선물세트 특가 (30% 할인)

### **2월** (2개)
- 🌸 봄 햇차 예약판매 (15% 할인)
- 💝 밸런타인데이 차 선물 (15% 할인)

### **3월** (2개)
- 🍵 봄맞이 녹차 페스티벌 (20% 할인)
- 🤍 화이트데이 공예품 (15% 할인)

### **4월** (2개)
- 🌿 우전차 시즌 특가 (15% 할인)
- 🎒 봄나들이 차세트 (20% 할인)

### **5월 - 가정의 달** (3개)
- 👨‍👩‍👧‍👦 어버이날 효도 선물 (25% 할인)
- 💖 가정의 달 감사 이벤트 (20% 할인)
- 👨‍🏫 스승의 날 선물 (15% 할인)

### **6월** (2개)
- 🧊 여름 냉차 특집 (20% 할인)
- 🇰🇷 현충일 감사 할인 (15% 할인)

### **7월** (2개)
- 🏖️ 여름 휴가 선물세트 (20% 할인)
- 🏺 여름 공예품 특가 (25% 할인)

### **8월** (2개)
- 🎆 광복절 감사 세일 (20% 할인)
- 🍵 말차 빙수 시즌 (15% 할인)

### **9월 - 추석** (2개)
- 🌕 추석 선물세트 대전 (30% 할인)
- 🌾 가을 햇곡식 특산품 (20% 할인)

### **10월** (2개)
- 🍁 가을 단풍 차여행 (20% 할인)
- 🇰🇷 한글날 특별 할인 (15% 할인)

### **11월** (2개)
- 🍲 김장 후 면역차 특집 (20% 할인)
- 📚 수능 응원 이벤트 (25% 할인)

### **12월 - 연말** (3개)
- 🎄 크리스마스 선물 대전 (30% 할인)
- 💰 연말정산 감사세일 (25% 할인)
- ☕ 겨울 홍차 & 발효차 (20% 할인)

---

## 🔌 API 사용법

### **1. 전체 이벤트 조회** (현재 진행 중)
```bash
GET /api/events
```

### **2. 특정 월 이벤트 조회**
```bash
GET /api/events?month=1  # 1월 이벤트
GET /api/events?month=5  # 5월 가정의 달 이벤트
GET /api/events?month=12 # 12월 연말 이벤트
```

### **3. 이벤트 타입별 조회**
```bash
GET /api/events?type=holiday  # 명절 이벤트만
GET /api/events?type=discount # 할인 이벤트만
GET /api/events?type=season   # 시즌 이벤트만
```

### **4. 관리자용 전체 조회** (날짜 필터 무시)
```bash
GET /api/events?all=true
```

### **5. 복합 필터**
```bash
GET /api/events?month=5&type=holiday  # 5월 명절 이벤트
GET /api/events?month=9&all=true      # 9월 전체 이벤트
```

---

## 📈 이벤트 통계

- **총 이벤트 수**: 28개
- **매년 반복**: 28개 (모두 is_recurring = 1)
- **할인율 범위**: 15% ~ 30%
- **월별 평균**: 2.3개 이벤트/월
- **가장 많은 달**: 5월 (가정의 달, 3개), 12월 (연말, 3개)

---

## 🎨 이벤트 배너 이미지 경로

모든 이벤트는 다음 경로에 배너 이미지를 가집니다:
```
/images/events/jan-newyear.jpg
/images/events/may-parents.jpg
/images/events/sep-chuseok.jpg
/images/events/dec-christmas.jpg
...
```

---

## 🔄 자동화 기능

### **날짜 기반 자동 활성화**
- 현재 날짜가 `start_date`와 `end_date` 사이인 이벤트만 자동으로 표시
- 날짜가 지난 이벤트는 자동으로 숨김 처리

### **우선순위 정렬**
- `priority` 값이 높은 이벤트가 먼저 표시
- 같은 priority일 경우 최신 이벤트 우선

---

## 🚀 다음 단계

1. **이벤트 배너 이미지 준비** (28개)
2. **홈페이지에 이벤트 섹션 추가**
3. **이벤트별 상품 연결** (event_products 테이블)
4. **관리자 페이지에서 이벤트 관리 기능 추가**

---

## 📝 데이터베이스 마이그레이션

```sql
-- 0024_add_monthly_events.sql
ALTER TABLE events ADD COLUMN month INTEGER DEFAULT 0;
ALTER TABLE events ADD COLUMN is_recurring INTEGER DEFAULT 0;
ALTER TABLE events ADD COLUMN priority INTEGER DEFAULT 0;

-- 0025_extend_event_types.sql
-- event_type에 'holiday', 'special' 추가
```

---

## ✅ 완료 사항

- ✅ 이벤트 테이블 구조 확장
- ✅ 28개 월별 이벤트 데이터 추가
- ✅ API 엔드포인트 개선 (월별/타입별 필터)
- ✅ 우선순위 기반 정렬
- ✅ 날짜 기반 자동 활성화
- ✅ Git 커밋 및 푸시 완료

---

**🎉 월별 행사 및 할인 이벤트 시스템이 성공적으로 추가되었습니다!**
